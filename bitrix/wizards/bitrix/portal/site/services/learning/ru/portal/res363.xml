<?xml version="1.0" encoding="Windows-1251"?>
<content type="LES"><lesson_id>5857</lesson_id>
<was_chapter_id></was_chapter_id>
<keywords></keywords>
<childs_cnt>0</childs_cnt>
<is_childs>0</is_childs>
<sort>500</sort>
<timestamp_x>1416995697</timestamp_x>
<date_create>1390920190</date_create>
<created_user_name>(Решецкий Егор) Егор Решецкий</created_user_name>
<created_by>82996</created_by>
<active>Y</active>
<name>Сценарий автоматизации контроля оказания услуг</name>
<preview_picture></preview_picture>
<preview_text></preview_text>
<preview_text_type>text</preview_text_type>
<detail_text><![CDATA[<p>Последовательно рассмотрим, как с помощью бизнес-процесса, использующего инструменты <b>Битрикс24</b>, может быть реализован возможный вариант автоматизации контроля исполнения работ.</p>

<p><div class="hint"><b>Примечание: </b>данный сценарий для своего использования подразумевает как минимум базовые знания о бизнес-процессах и других инструментах вашего портала.</div></p>

<p>Подойдет для компаний, схема работы которых выглядит ориентировочно следующим образом: </p>

<ul>
<li>продажа менеджером услуги, клиент оплачивает счет;</li>

<li>руководитель получает необходимую информацию об объекте заказчика и выбирает исполнителя;</li>

<li>передача исполнителю перечня документов для заполнения;</li>

<li>выполнение работы на объекте клиента;</li>

<li>проверка менеджером документов;</li>

<li>подготовка акта и отчета, уведомление заказчика о завершении работы;</li>

<li>менеджер доставляет клиенту акт и отчет.</li>
</ul>
<br>

<p>Менеджер, являясь ответственным за сделку, ведет ее в CRM и после того, как клиент оплачивает счет по ней, переводит ее в стадию <b>Оплачено</b>.</p>

<p><div class="hint"><b>Примечание: </b>для создания такой стадии сделки воспользуйтесь <a href="/learning/course/index.php?COURSE_ID=52&LESSON_ID=3758">справочниками</a> CRM: 
<p><img src="cid:resources/res363/K6SDW.crm_reference_stage.png"></p>
</div></p>

<p>После смены стадии запускается <a href="/learning/course/index.php?COURSE_ID=52&LESSON_ID=3765">бизнес-процесс</a> на изменение сделки:</p>

<p><img src="cid:resources/res363/Z6DoW.my_bp_1.png"></p>

<p>Сначала бизнес-процесс проверяет, является ли стадия сделки равной <b>Оплачено</b> (действие <b>Проверка стадии сделки</b>). Для избежания выполнения бизнес-процесса при каком-либо редактировании сделки со статусом <b>Оплачено</b>, предварительно было создано <a href="/learning/course/index.php?COURSE_ID=52&LESSON_ID=3766">пользовательское поле</a>  <b>Изменялась стадия сделки?</b> со значением по умолчанию <b>0</b>, при котором  бизнес-процесс пойдет по своей основной ветке, в конце которой значение данного поля меняется на <b>1</b>.</p>

<p>Чтобы предусмотреть ситуацию, при которой стадия сделки откатывается от <b>Оплачено</b>, а затем снова в нее возвращается (что требует повторного запуска бизнес-процесса), было задействовано уравнивание нулю значения поля <b>Изменялась стадия сделки?</b> в случае, если после изменения сделка находится в стадии, отличной от <b>Оплачено</b> (действие <b>Изменение значения пользовательского поля</b> в ветке <b>Не оплачено</b>).</p>
<br>

<p>Далее в главной ветке бизнес-процесса идет <a href="/learning/course/index.php?COURSE_ID={SELF}&LESSON_ID=3782">запрос дополнительной информации</a> от начальника отдела (действие <b>Выбор сотрудника для осмотра объекта</b>), которому следует выбрать своего сотрудника для выезда к заказчику. Данное действие при детальном просмотре выглядит следующим образом:</p>

<p><img src="cid:resources/res363/OuayU.select_empl.png"></p>

<p>В описании добавлены необходимые для руководителя данные из сделки, такие как комментарий, контакт, компания. Добавлено поле типа <b>Привязка к пользователю</b>, через которое идентификатор выбранного сотрудника будет сохранен в переменной <b>Сотрудник</b>.</p>

<p>При переходе бизнес-процесса к данному действию, требующему ответа от руководителя отдела, у последнего появится запрос об этом в виде цифры рядом с пунктом бизнес-процессы основного меню:</p>

<p><img src="cid:resources/res363/WXeUi.bp_1.png"></p>

<p>При просмотре задания руководитель будет видеть следующую форму:</p>

<p><img src="cid:resources/res363/p95su.520000.png"></p>

<p>В <a href="/learning/course/index.php?COURSE_ID={SELF}&LESSON_ID=3785">следующем действии</a> стадия сделки меняется на <b>В обработке</b> (действие <b>Сделка - "В обработке"</b>), а руководителю, аналогично запросу на выбор сотрудника, посылается задание (действие <b>Первичное формирование ведомости документов</b>) на формирование ведомости документов, которые необходимо забрать у заказчика:</p>

<p><img src="cid:resources/res363/SGQDe.list_docs.png"></p>

<p>Составленная ведомость сохранится в переменной <b>Список документов</b>, созданной в форме создания запроса дополнительной информации:</p>

<p><img src="cid:resources/res363/phom2.doc_list.png"></p>

<p>Затем в бизнес-процессе ставится задача подчиненному (выбранному сотруднику): </p>

<p><img src="cid:resources/res363/IBGIC.task_for_semen.png"></p>

<ul>
<li>бизнес-процесс приостанавливается на время выполнения задачи;</li>

<li>в качестве ответственного ставится выбранный руководителем сотрудник (переменная <b>Сотрудник</b>);</li>

<li>с помощью <a href="/learning/course/index.php?COURSE_ID={SELF}&LESSON_ID=3814">выражения</a> <code>=Dateadd({=System:Date}, "2 days")</code> крайним сроком указано 2 дня от текущей даты;</li>

<li>в описание задачи перенесен список документов, составленный руководителем (переменная <b>Список документов</b>) и поля сделки, такие как идентификатор контактакомпании, комментарий;</li>

<li>наблюдателем выбран ответственный по сделке менеджер;</li>

<li>задача находится в группе <b>Продажи</b>, что позволит в дальнейшем отследить выполнение задач через данную группу;</li>

<li>задача привязывается к текущей сущности CRM (сделке).</li>
</ul>

<p>Для ответственного задача будет выглядеть следующим образом:</p>

<p><img src="cid:resources/res363/icdXV.task_semen_view.png"></p>

<p>После выполнения своего задания ответственный сотрудник может вложить отсканированные документы в комментарии к задаче, либо принести их лично менеджеру на проверку.</p>

<p>После завершения задачи запускается <a href="/learning/course/index.php?COURSE_ID={SELF}&LESSON_ID=3792">цикл</a> утверждения документов менеджером:</p>

<p><img src="cid:resources/res363/76ujh.while.png"></p>

<p>Специально для данного цикла в параметрах шаблона бизнес-процесса была предварительно создана переменная <b>Утверждение документов</b> типа <b>ДаНет</b>. Цикл будет выполняться до тех пор, пока значение данной переменной не изменится (т.е. произойдет утверждение документов). В случае, если менеджер не утверждает документы, ответственному сотруднику ставится задача <b>Забрать документы на заполнение</b>, в которой будет отображен комментарий менеджера о том, что следует исправить, внесенный им при отклонении документа (<span class="path">Дополнительные результаты > Утверждение документов > Комментарий<span>).</p>

<p>После утверждения документов руководителю отдела ставится задача о подготовке отчета, а менеджеру, не останавливая бизнес-процесс на время выполнения задачи - о передаче акта. </p>

<p>Затем заказчику от имени менеджера (ответственный за сделку) <a href="/learning/course/index.php?COURSE_ID={SELF}&LESSON_ID=3802">отсылается письмо</a> на электронный адрес с сообщением о завершении работы:</p>

<p><img src="cid:resources/res363/6d8Md.send_email_client.png"></p>

<p>В в качестве адреса получателя указывается значение пользовательского поля <b>email</b>, предварительно созданного для сделок.</p>

<p>После этого следуют действия <b>Изменение полей документа</b>, с помощью которых меняется стадия сделки на <b>Сделка заключена</b> и значение пользовательского поля <b>Изменялась стадия сделки?</b>, о котором было сказано выше.</p>

<p>В нашем случае менеджер и руководитель постоянно в курсе стадии работы с клиентом, являясь либо ответственнымипостановщиками, либо наблюдателями всех задач по сделке. Отследить события, текущие дела и задачи по сделке можно в форме ее <a href="/learning/course/index.php?COURSE_ID=52&LESSON_ID=3732#deal_profile">просмотра</a> (закладки <b>Лента</b>, <b>Дела</b>, <b>История</b>):</p>

<p><img src="cid:resources/res363/YH5Vo.deal_lenta_view.png"></p>
<br>

<p><div class="hint"><b>Примечание: </b>вы можете <a href="/images/curs_b24/example/control.bpt">скачать шаблон</a> данного бизнес-процесса. </div></p>
]]></detail_text>
<detail_picture></detail_picture>
<detail_text_type>html</detail_text_type>
<launch></launch>
<code></code>
<active_from></active_from>
<active_to></active_to>
<rating></rating>
<rating_type></rating_type>
<scorm></scorm>
<linked_lesson_id></linked_lesson_id>
<course_id></course_id>
<course_sort></course_sort>
<edge_sort>500</edge_sort>
<id>5857</id>
<meta_publish_prohibited>N</meta_publish_prohibited>
</content>