<?xml version="1.0" encoding="Windows-1251"?>
<content type="LES"><lesson_id>5823</lesson_id>
<was_chapter_id></was_chapter_id>
<keywords></keywords>
<childs_cnt>0</childs_cnt>
<is_childs>0</is_childs>
<sort>500</sort>
<timestamp_x>1416993703</timestamp_x>
<date_create>1386774658</date_create>
<created_user_name>(Решецкий Егор) Егор Решецкий</created_user_name>
<created_by>82996</created_by>
<active>Y</active>
<name>Автоматизация исполнения проекта</name>
<preview_picture></preview_picture>
<preview_text></preview_text>
<preview_text_type>text</preview_text_type>
<detail_text><![CDATA[<p>Рассмотрим возможный сценарий использования вашего <b>Bitrix Framework</b> для работы над проектом после закрытия <a href="/learning/course/index.php?COURSE_ID={SELF}&CHAPTER_ID=05026">сделки</a>.</p>

<p>В нашем случае работа начинается после оплаты и закрытия сделки. После того, как менеджер перевел сделку в стадию <b>Сделка заключена</b>, на руководителя департамента и аналитика ставятся соответствующие их должностям типовые задачи с установленными сроками выполнения, в которые должна быть перенесена первичная информация из сделки. Менеджер должен проследить за корректным выполнением этих задач.</p>

<p>Для реализации такого сценария мы будем использовать <a href="/learning/course/index.php?COURSE_ID={SELF}&LESSON_ID=3765">бизнес-процесс</a> на изменение сделки. Чтобы исключить случаи постановки задач при изменении каких-либо других данных сделки со статусом <b>Сделка заключена</b>, нами будет создано пользовательское поле, в которое записывается факт перевода сделки в конечную стадию.</p>

<p>Создадим пользовательское поле для сделок:</p>

<p><img src="cid:resources/res362/Xw58U.change_stage.png"></p>

<p>Значение поля по умолчанию - <b>0</b>. При переводе сделки в нужную нам стадию и постановки задач нужно будет менять его на <b>1</b>. Значение <b>1</b> и будет означать факт заключения сделки.</p>

<p>На странице <span class="path">CRM > Настройки > Бизнес-процессы</span> добавьте <a href="/learning/course/index.php?COURSE_ID=57&CHAPTER_ID=05042">шаблон</a> на изменение для сделок. Откроется форма настройки параметров шаблона:</p>

<p><img src="cid:resources/res362/yIM9g.crate_pattern_deal.png"></p>

<p>Создадим следующую схему шаблона бизнес-процесса:</p>

<p><img src="cid:resources/res362/lq7aS.bp_deal_stage.png"></p>

<p>Разберем основные моменты его структуры. Сначала проверяется стадия сделки. Если она равна <b>Сделка заключена</b>, то осуществляется переход к проверке значения пользовательского поля <b>Изменялась стадия сделки</b>:</p>

<p><img src="cid:resources/res362/rMmkY.variable_0.png"></p>

<p>В случае, когда значение данного поля <b>0</b>, переходим к постановке задач:</p>

<p><img src="cid:resources/res362/BqZS4.task_descr.png"></p>

<p>Постановщиком выбран ответственный за сделку менеджер, что позволит ему быть в курсе работы над проектом.</p>

<p>В качестве крайнего срока указано выражение <code>=Dateadd({=System:Date}, "2 days")</code>, которое выставляет дату крайнего срока равной <b>текущая дата + 2 дня</b>.</p>

<p>В <b>Описание задачи</b> копируются поля сделки, такие как <b>Сумма в указанной валюте</b>, <b>Комментарий</b>, <b>Контакт</b>, <b>Компания</b>. Это позволит ответственному за задачу руководителю департамента сразу быть в курсе дел по данной задаче:</p>

<p><img src="cid:resources/res362/EpzIl.view_task.png"></p>

<p>Далее выставлены другие параметры задачи, в том числе привязка к текущей сущности CRM, то есть сделке, что может пригодиться для контроля ведущейся с ней работы.</p>

<p>Аналогично ставится задача аналитику, затем в действии <b>Изменение пользовательского поля</b> выполняется смена значения пользовательского поля <b>Изменялась стадия сделки</b> на <b>1</b>.</p>

<p>Такое же действие, только с присваиванием значения <b>0</b>, применено в случае, если проверка стадии сделки выявила, что стадия не является <b>Сделка заключена</b>. Это сделано для случая, когда сделку переводят из конечного статуса в предварительный, а затем опять в <b>Сделка заключена</b>. Если бы такого действия не было, то в этом случае постановка задач снова не совершилась бы, поскольку значение поля оставалось бы <b>1</b>.</p>]]></detail_text>
<detail_picture></detail_picture>
<detail_text_type>html</detail_text_type>
<launch></launch>
<code></code>
<active_from></active_from>
<active_to></active_to>
<rating></rating>
<rating_type></rating_type>
<scorm></scorm>
<linked_lesson_id></linked_lesson_id>
<course_id></course_id>
<course_sort></course_sort>
<edge_sort>500</edge_sort>
<id>5823</id>
<meta_publish_prohibited>N</meta_publish_prohibited>
</content>