{"version":3,"file":"core_finder.min.js","sources":["core_finder.js"],"names":["window","BX","Finder","container","context","panels","lang","toLowerCase","elements","mapElements","searchBox","searchTab","searchPanel","selectedProvider","selectedElement","selectedElements","selectedType","disabledId","disabledElement","searchTimeout","loadPlace","findChildren","className","i","length","getAttribute","onDisableItem","addCustomEvent","Access","onSelectProvider","onDeleteItem","onAfterPopupShow","dBScheme","stores","name","autoIncrement","indexes","keyPath","unique","version","initFinderDb","onAddItem","provider","type","element","elementId","removeClass","RemoveSelection","id","push","addClass","elementTextBox","findChild","elementText","innerHTML","AddSelection","arParams","onUnDisableItem","tagName","focus","mapId","obAlreadySelected","showSelected","util","array_search","setAttribute","SwitchTab","currentTab","bSearchFocus","tabsContent","parentNode","tabIndex","tabs","hasClass","OpenCompanyDepartment","department","toggleClass","nextDiv","findNextSibling","ajaxSendUrl","location","href","split","ajax","url","method","dataType","processData","data","mode","action","item","sessid","bitrix_sessid","site_id","message","onsuccess","newElements","onfailure","OpenItemFolder","Search","clearTimeout","value","setTimeout","appendChild","create","props","search","obDestination","indexedDB","oScheme","callback","dbObject","obClientDb","openCursor","cursorValue","obClientDbData","users","findEntityByName","syncClientDb","removeClientDbObject","addSearchIndex","onFinderAjaxSuccess","ob","partsSearchText","obClientDbDataSearchIndex","in_array","obSearch","oParams","oResult","keysFiltered","Object","keys","filter","key","indexOf","searchString","correctText","arResult","array_merge","array_unique","USERS","oUser","checksum","updateValue","oDbData","oAjaxData","deleteValueByIndex","obItems","deleteItem"],"mappings":"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"}