BX.namespace("BX.Disk");BX.Disk.AggregatorClass=function(){var e=function(e){this.ajaxUrl="/bitrix/components/bitrix/disk.aggregator/ajax.php"};e.prototype.showHiddenContent=function(e){e.style.display=e.style.display=="none"?"block":"none"};e.prototype.hide=function(e){if(!e.getAttribute("displayOld")){e.setAttribute("displayOld",e.style.display)}e.style.display="none"};e.prototype.showNetworkDriveConnect=function(e){e=e||{};var t=e.link,s=this.showHiddenContent,i=this.hide;s(BX("bx-disk-network-drive-full"));BX.Disk.modalWindow({modalId:"bx-disk-show-network-drive-connect",title:BX.message("DISK_AGGREGATOR_TITLE_NETWORK_DRIVE"),contentClassName:"tac",contentStyle:{},events:{onAfterPopupShow:function(){var e=BX("disk-get-network-drive-link");BX.focus(e);e.setSelectionRange(0,e.value.length)},onPopupClose:function(){i(BX("bx-disk-network-drive"));i(BX("bx-disk-network-drive-full"));BX("workarea-content").appendChild(BX("bx-disk-network-drive-full"));this.destroy()}},content:[BX.create("label",{text:BX.message("DISK_AGGREGATOR_TITLE_NETWORK_DRIVE_DESCR_MODAL")+" :",props:{className:"bx-disk-popup-label","for":"disk-get-network-drive-link"}}),BX.create("input",{style:{marginTop:"10px"},props:{id:"disk-get-network-drive-link",className:"bx-disk-popup-input",type:"text",value:t}}),BX("bx-disk-network-drive-full")],buttons:[BX.create("a",{text:BX.message("DISK_AGGREGATOR_BTN_CLOSE"),props:{className:"bx-disk-btn bx-disk-btn-big bx-disk-btn-transparent"},events:{click:function(){BX.PopupWindowManager.getCurrentPopup().close()}}})]});if(BX("bx-disk-network-drive-secure-label")){i(BX.findChildByClassName(BX("bx-disk-show-network-drive-connect"),"bx-disk-popup-label"));i(BX.findChildByClassName(BX("bx-disk-show-network-drive-connect"),"bx-disk-popup-input"))}};e.prototype.getListStorage=function(e,t){var s=null,i=null;if(BX("bx-disk-da-site-id")){s=BX("bx-disk-da-site-id").value}if(BX("bx-disk-da-site-dir")){i=BX("bx-disk-da-site-dir").value}var a=this.showHiddenContent,n="bx-disk-"+t+"-div";if(!BX(n).getElementsByTagName("ul").length){BX.ajax({method:"POST",dataType:"json",url:BX.Disk.addToLinkParam(this.ajaxUrl,"action",e),data:{siteId:s,siteDir:i,proxyType:t,sessid:BX.bitrix_sessid()},onsuccess:function(e){if(e.status=="success"){var t="";t+='<h2 class="bx-disk-aggregator-storage-title">'+BX.util.htmlspecialchars(e.title)+"</h2>";t+="<ul>";for(var s in e.listStorage){t+='<li class="bx-disk-aggregator-list">';t+='<img style="vertical-align:middle" src='+e.listStorage[s]["ICON"]+' class="bx-disk-aggregator-icon" />';t+='<a class="bx-disk-aggregator-a-link" href='+e.listStorage[s]["URL"]+">"+BX.util.htmlspecialchars(e.listStorage[s]["TITLE"])+"</a>";t+="</li>"}t+="</ul>";BX(n).innerHTML=t;a(BX(n))}else{e.errors=e.errors||[{}];BX.Disk.showModalWithStatusAction({status:"error",message:e.errors.pop().message})}}})}else{a(BX(n))}};return e}();
//# sourceMappingURL=script.map.js