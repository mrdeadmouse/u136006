var SGMWaitDiv=null;var SGMWaitPopup=null;var SGMWaitTimeout=null;var SGMWaitTime=500;var SGMNotifyHintPopup=null;var SGMotifyHintTimeout=null;var SGMotifyHintTime=3e3;function __SGMSetSubscribe(t,e){__SGMShowWait();var o=!BX.hasClass(BX("group_menu_subscribe_button"),"webform-button-active")?"set":"unset";BX.ajax({url:"/bitrix/components/bitrix/socialnetwork.group_menu/ajax.php",method:"POST",dataType:"json",data:{groupID:parseInt(t),action:o=="set"?"set":"unset",sessid:BX.bitrix_sessid()},onsuccess:function(t){__SGMProcessAJAXResponse(t)}});BX.PreventDefault(e)}function __SGMProcessAJAXResponse(t){if(t["SUCCESS"]!=undefined&&t["SUCCESS"]=="Y"){__SGMCloseWait();var e=BX("group_menu_subscribe_button",true);if(e){if(t["RESULT"]!=undefined&&t["RESULT"]=="N"){__SGMShowNotifyHint(e,BX.message("SGMSubscribeButtonHintOff"));BX.adjust(e,{attrs:{title:BX.message("SGMSubscribeButtonTitleOff")}});BX.removeClass(e,"webform-button-active")}else{__SGMShowNotifyHint(e,BX.message("SGMSubscribeButtonHintOn"));BX.adjust(e,{attrs:{title:BX.message("SGMSubscribeButtonTitleOn")}});BX.addClass(e,"webform-button-active")}}return false}else if(t["ERROR"]!=undefined&&t["ERROR"].length>0){if(t["ERROR"].indexOf("SESSION_ERROR",0)===0){__SGMShowError(BX.message("SGMErrorSessionWrong"));return false}else if(t["ERROR"].indexOf("CURRENT_USER_NOT_AUTH",0)===0){__SGMShowError(BX.message("SGMErrorCurrentUserNotAuthorized"));return false}else if(t["ERROR"].indexOf("SONET_MODULE_NOT_INSTALLED",0)===0){__SGMShowError(BX.message("SGMErrorModuleNotInstalled"));return false}else{__SGMShowError(t["ERROR"]);return false}}}function __SGMShowError(t){__SGMCloseWait();var e=new BX.PopupWindow("sgm-error"+Math.random(),window,{autoHide:true,lightShadow:false,zIndex:2,content:BX.create("DIV",{props:{className:"sonet-sgm-error-text-block"},html:t}),closeByEsc:true,closeIcon:true});e.show()}function __SGMShowWait(t){if(t!==0){return SGMWaitTimeout=setTimeout(function(){__SGMShowWait(0)},50)}if(!SGMWaitPopup){SGMWaitPopup=new BX.PopupWindow("sgm_wait",window,{autoHide:true,lightShadow:true,zIndex:2,content:BX.create("DIV",{props:{className:"sonet-sgm-wait-cont"},children:[BX.create("DIV",{props:{className:"sonet-sgm-wait-icon"}}),BX.create("DIV",{props:{className:"sonet-sgm-wait-text"},html:BX.message("SGMWaitTitle")})]})})}else SGMWaitPopup.setBindElement(window);SGMWaitPopup.show()}function __SGMCloseWait(){if(SGMWaitTimeout){clearTimeout(SGMWaitTimeout);SGMWaitTimeout=null}if(SGMWaitPopup)SGMWaitPopup.close()}function __SGMShowNotifyHint(t,e){if(SGMotifyHintTimeout){clearTimeout(SGMotifyHintTimeout);SGMotifyHintTimeout=null}if(SGMNotifyHintPopup==null){SGMNotifyHintPopup=new BX.PopupWindow("sgm_notify_hint",t,{autoHide:true,lightShadow:true,zIndex:2,content:BX.create("DIV",{props:{className:"sonet-sgm-notify-hint-content"},style:{display:"none"},children:[BX.create("SPAN",{props:{id:"sgm_notify_hint_text"},html:e})]}),closeByEsc:true,closeIcon:false,offsetLeft:10,offsetTop:-11,bindOptions:{position:"top"},angle:{position:"bottom",offset:0}});SGMNotifyHintPopup.TEXT=BX("sgm_notify_hint_text");SGMNotifyHintPopup.setBindElement(t)}else{SGMNotifyHintPopup.TEXT.innerHTML=e;SGMNotifyHintPopup.setBindElement(t)}SGMNotifyHintPopup.setAngle({});SGMNotifyHintPopup.show();SGMotifyHintTimeout=setTimeout(function(){SGMNotifyHintPopup.close()},SGMotifyHintTime)}
//# sourceMappingURL=script.map.js