{"version":3,"file":"core_frame_cache.min.js","sources":["core_frame_cache.js"],"names":["window","BX","frameCache","localStorageKey","lolalStorageTTL","compositeMessageIds","compositeDataFile","sessidWasUpdated","browser","IsIE8","localStorage","localStorageIE8","set","DoNothing","get","remove","prefix","init","this","cacheDataBase","tableParams","tableName","fields","name","unique","frameData","type","isString","frameDataString","length","onFrameDataReceived","vars","frameCacheVars","page_url","params","storageBlocks","lastReplacedBlocks","lsCache","i","messageId","message","addCustomEvent","mess","util","in_array","cache","getCompositeMessages","frameUpdateInvoked","update","frameRequestStart","ready","onCustomEvent","tryUpdateSessid","frameRequestFail","insertBanner","ajax","method","dataType","url","async","data","onsuccess","json","setCompositeVars","lang","hasOwnProperty","processData","block","container","ID","htmlWasInserted","contentWasProcessed","scriptsLoaded","assets","getAssets","processCSS","insertHTML","processStrings","processExternalJS","processInlineJS","callback","styles","isArray","PROPS","CSS","array_merge","load","USE_ANIMATION","style","opacity","innerHTML","CONTENT","easing","duration","start","finish","transition","makeEaseOut","transitions","quart","step","state","complete","cssText","animate","evalGlobal","inlineJS","join","result","externalJS","STRINGS","parts","processHTML","l","SCRIPT","script","isInternal","push","JS","STYLE","scripts","processRequestData","scriptsRunFirst","makeRequest","requestData","proxy","invokeCache","readCacheWithID","insertFromCache","handleResponse","dynamicBlocks","insertBlocks","writeCache","isManifestUpdated","CACHE_MODE","applicationCache","htmlCacheChanged","spread","Image","src","headers","value","document","referrer","JSON","stringify","PARAMS","PAGE_URL","requestURI","location","href","index","indexOf","substring","Date","getTime","timeout","skipBxHeader","onfailure","response","error","reason","xhr","status","eval","e","checkRedirect","resultSet","transaction","items","parse","blocks","fromCache","useHash","AUTO_UPDATE","skip","j","HASH","USE_BROWSER_STORAGE","writeCacheWithID","openDatabase","dataBase","displayName","capacity","version","createTable","id","content","hash","props","getRows","filter","success","res","updateRows","updateFields","fail","addRow","insertFields","banner","isNotEmptyString","text","create","className","attrs","target","bgcolor","backgroundColor","toUpperCase","addClass","appendChild","body","position","children","sessid","updateSessid","inputs","getElementsByName","redirect_url"],"mappings":"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"}