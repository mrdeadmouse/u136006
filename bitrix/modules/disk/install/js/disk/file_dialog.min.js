(function(){var i=window.BX;if(i.DiskFileDialog)return;i.DiskFileDialog={popupWindow:null,popupWaitWindow:null,timeout:null,sendRequest:false,obCallback:{},obLocalize:{},obType:{},obTypeItems:{},obItems:{},obItemsDisabled:{},obItemsSelected:{},obItemsSelectEnabled:{},obItemsSelectMulti:{},obFolderByPath:{},obCurrentPath:{},obCurrentTab:{},obGridColumn:{},obGridOrder:{},obElementBindPopup:{},obButtonSaveDisabled:{},obInitItems:{},obInitItemsDisabled:{},obInitItemsSelected:{}};i.DiskFileDialog.init=function(e){if(!e.name)e.name="fd";i.DiskFileDialog.obCallback[e.name]=e.callback;i.DiskFileDialog.obType[e.name]=e.type;i.DiskFileDialog.obTypeItems[e.name]=e.typeItems;i.DiskFileDialog.obLocalize[e.name]=e.localize;i.DiskFileDialog.obCurrentPath[e.name]=e.currentPath?e.currentPath:"/";i.DiskFileDialog.obCurrentTab[e.name]=e.currentTabId?i.DiskFileDialog.obTypeItems[e.name][e.currentTabId]:null;i.DiskFileDialog.obFolderByPath[e.name]=e.folderByPath?e.folderByPath:{};if(i.DiskFileDialog.obCurrentTab[e.name]!==null)i.DiskFileDialog.obFolderByPath[e.name]["/"]={id:"root",type:"folder",extra:"",name:i.DiskFileDialog.obTypeItems[e.name][e.currentTabId].name,path:"/",size:"",sizeInt:"0",modifyBy:"",modifyDate:"",modifyDateInt:"0"};i.DiskFileDialog.obItems[e.name]=e.items;i.DiskFileDialog.obItemsDisabled[e.name]=e.itemsDisabled;i.DiskFileDialog.obItemsSelected[e.name]=e.itemsSelected;i.DiskFileDialog.obItemsSelectEnabled[e.name]=e.itemsSelectEnabled;i.DiskFileDialog.obItemsSelectMulti[e.name]=e.itemsSelectMulti;i.DiskFileDialog.obElementBindPopup[e.name]=e.bindPopup;i.DiskFileDialog.obGridColumn[e.name]=e.gridColumn;i.DiskFileDialog.obGridOrder[e.name]=e.gridOrder;var l=i.util.objectSort(i.DiskFileDialog.obTypeItems[e.name],"name","asc");for(var o=0,a=l.length;o<a;o++){var t=l[o];if(i.DiskFileDialog.obType[e.name][t.type]){if(i.DiskFileDialog.obType[e.name][t.type].items)i.DiskFileDialog.obType[e.name][t.type].items.push(t.id);else i.DiskFileDialog.obType[e.name][t.type].items=[t.id]}}if(i.DiskFileDialog.obCurrentTab[e.name]==null){var s=i.util.objectSort(i.DiskFileDialog.obType[e.name],"order","asc");for(var o=0,a=l.length;o<a;o++){var t=l[o];if(t.type==s[0].id){i.DiskFileDialog.obCurrentPath[e.name]="/";i.DiskFileDialog.obCurrentTab[e.name]=i.DiskFileDialog.obTypeItems[e.name][t.id];i.DiskFileDialog.obFolderByPath[e.name]["/"]={id:"root",type:"folder",extra:"",name:i.DiskFileDialog.obTypeItems[e.name][t.id].name,path:"/",size:"",sizeInt:"0",modifyBy:"",modifyDate:"",modifyDateInt:"0"};break}}}for(var o in i.DiskFileDialog.obItemsSelected[e.name]){if(i.DiskFileDialog.obItems[e.name][o])i.DiskFileDialog.obItemsSelected[e.name][o]=i.DiskFileDialog.obItems[e.name][o].type;else delete i.DiskFileDialog.obItemsSelected[e.name][o]}i.DiskFileDialog.obInitItems[e.name]=i.clone(i.DiskFileDialog.obItems[e.name]);i.DiskFileDialog.obInitItemsSelected[e.name]=i.clone(i.DiskFileDialog.obItemsSelected[e.name]);i.DiskFileDialog.obInitItemsDisabled[e.name]=i.clone(i.DiskFileDialog.obItemsDisabled[e.name]);i.DiskFileDialog.obButtonSaveDisabled[e.name]=false;i.onCustomEvent(i.DiskFileDialog,"inited",[e.name]);var n=true;for(var o in e.items){n=false;break}if(n)i.DiskFileDialog.loadItems(i.DiskFileDialog.obCurrentTab[e.name],e.name)};i.DiskFileDialog.openDialog=function(e){if(!e)e="fd";if(i.DiskFileDialog.popupWindow!=null){i.DiskFileDialog.popupWindow.close();return false}i.DiskFileDialog.popupWindow=new i.PopupWindow("DiskFileDialog",i.DiskFileDialog.obElementBindPopup[e].node,{offsetLeft:parseInt(i.DiskFileDialog.obElementBindPopup[e].offsetLeft),offsetTop:parseInt(i.DiskFileDialog.obElementBindPopup[e].offsetTop),bindOptions:{forceBindPosition:true},zIndex:100,closeByEsc:true,closeIcon:{top:"10px",right:"15px"},draggable:i.DiskFileDialog.obElementBindPopup[e].node==null?{restrict:true}:false,titleBar:{content:i.create("span",{html:i.DiskFileDialog.obLocalize[e].title,props:{className:"bx-file-dialog-title"}})},events:{onPopupClose:function(){if(i.DiskFileDialog.popupWaitWindow!==null)i.DiskFileDialog.popupWaitWindow.close();this.destroy()},onPopupDestroy:function(){i.DiskFileDialog.popupWindow=null;if(i.DiskFileDialog.obCallback[e]&&i.DiskFileDialog.obCallback[e].popupDestroy){i.DiskFileDialog.obCallback[e].popupDestroy()}},onPopupShow:function(){if(i.DiskFileDialog.obCallback[e]&&i.DiskFileDialog.obCallback[e].popupShow){i.DiskFileDialog.obCallback[e].popupShow()}}},content:'<div class="bx-file-dialog-container">'+'<span class="bx-file-dialog-tab">'+'<div class="bx-file-dialog-tab-wrap" id="bx-file-dialog-tab-'+e+'">'+i.DiskFileDialog.getTabsHtml(e)+"</div>"+"</span>"+'<span class="bx-file-dialog-content" id="bx-file-dialog-content-'+e+'">'+i.DiskFileDialog.getItemsHtml(e)+"</span>"+"</div>"+'<div class="bx-file-dialog-notice" id="bx-file-dialog-notice-'+e+'">'+'<div class="popup-window-hr popup-window-buttons-hr"><i></i></div>'+'<div class="bx-file-dialog-notice-wrap"></div>'+"</div>",buttons:[new i.PopupWindowButton({text:i.DiskFileDialog.obLocalize[e].saveButton,className:"popup-window-button-accept",events:{click:function(){if(i.DiskFileDialog.obButtonSaveDisabled[e])return false;i.DiskFileDialog.obInitItems[e]=i.clone(i.DiskFileDialog.obItems[e]);i.DiskFileDialog.obInitItemsSelected[e]=i.clone(i.DiskFileDialog.obItemsSelected[e]);i.DiskFileDialog.obInitItemsDisabled[e]=i.clone(i.DiskFileDialog.obItemsDisabled[e]);if(i.DiskFileDialog.obCallback[e]&&i.DiskFileDialog.obCallback[e].saveButton){var l={};for(var o in i.DiskFileDialog.obItemsSelected[e])l[o]=i.DiskFileDialog.obItems[e][o];i.DiskFileDialog.obCallback[e].saveButton(i.DiskFileDialog.obCurrentTab[e],i.DiskFileDialog.obCurrentPath[e],l,i.DiskFileDialog.obFolderByPath[e][i.DiskFileDialog.obCurrentPath[e]])}this.popupWindow.close()}}}),new i.PopupWindowButtonLink({text:i.DiskFileDialog.obLocalize[e].cancelButton,className:"popup-window-button-link-cancel",events:{click:function(){i.DiskFileDialog.obItems[e]=i.clone(i.DiskFileDialog.obInitItems[e]);i.DiskFileDialog.obItemsSelected[e]=i.clone(i.DiskFileDialog.obInitItemsSelected[e]);i.DiskFileDialog.obItemsDisabled[e]=i.clone(i.DiskFileDialog.obInitItemsDisabled[e]);if(i.DiskFileDialog.obCallback[e]&&i.DiskFileDialog.obCallback[e].cancelButton){var l={};for(var o in i.DiskFileDialog.obItemsSelected[e])l[o]=i.DiskFileDialog.obItems[e][o];i.DiskFileDialog.obCallback[e].cancelButton(i.DiskFileDialog.obCurrentTab[e],i.DiskFileDialog.obCurrentPath[e],l,i.DiskFileDialog.obFolderByPath[e][i.DiskFileDialog.obCurrentPath[e]])}this.popupWindow.close()}}})]});i.DiskFileDialog.popupWindow.show();i.DiskFileDialog.slidePath(e)};i.DiskFileDialog.selectTab=function(e,l,o){if(!o)o="fd";if(i.DiskFileDialog.obCurrentTab[o]&&i.DiskFileDialog.obCurrentTab[o].id==l&&i.DiskFileDialog.obCurrentPath[o]=="/"){return false}i.DiskFileDialog.obCurrentPath[o]="/";i.DiskFileDialog.obCurrentTab[o]=i.DiskFileDialog.obTypeItems[o][l];i.DiskFileDialog.obFolderByPath[o]={};i.DiskFileDialog.obFolderByPath[o][i.DiskFileDialog.obCurrentPath[o]]={id:"root",type:"folder",extra:"",name:i.DiskFileDialog.obTypeItems[o][l].name,path:"/",size:"",sizeInt:"0",modifyBy:"",modifyDate:"",modifyDateInt:"0"};if(e!==null){var a=i.findChildren(i("bx-file-dialog-tab-"+o),{className:"bx-file-dialog-tab-item-active"},true);if(a!=null){for(var t=0;t<a.length;t++)a[t].className="bx-file-dialog-tab-item-link"}e.className="bx-file-dialog-tab-item-link bx-file-dialog-tab-item-active"}i.DiskFileDialog.loadItems(i.DiskFileDialog.obCurrentTab[o],o);return false};i.DiskFileDialog.loadItems=function(e,l){if(i.DiskFileDialog.sendRequest)return false;if(!l)l="fd";if(!i.DiskFileDialog.target)i.DiskFileDialog.target={};if(!!e.link)i.DiskFileDialog.target[l]=e.link;i.onCustomEvent(i.DiskFileDialog,"loadItems",[e.link,l]);i.ajax({url:i.DiskFileDialog.target[l],method:"POST",dataType:"json",data:{WD_LOAD_ITEMS:"Y",FORM_NAME:l,FORM_TAB_ID:i.DiskFileDialog.obCurrentTab[l].id,FORM_TAB_TYPE:i.DiskFileDialog.obCurrentTab[l].type,FORM_PATH:i.DiskFileDialog.obCurrentPath[l].split("//").join("/"),sessid:i.bitrix_sessid()},onsuccess:i.delegate(function(o){if(o.authUrl){i.DiskFileDialog.closeWait(l);i.DiskFileDialog.sendRequest=false;var a=i("bx-file-dialog-content-"+l);if(!a)return;a.innerHTML='<div class="bx-file-dialog-content">'+'<div class="bx-file-dialog-content-wrap-inner">'+'<div class="bx-file-dialog-content-wrap-title">'+i.message("DISK_JS_FILE_DIALOG_OAUTH_NOTICE").replace("#SERVICE#",e.name)+"</div>"+'<div class="bx-file-dialog-content-wrap-text">'+i.message("DISK_JS_FILE_DIALOG_OAUTH_NOTICE_DETAIL").replace("#HELP_URL#",i.message("DISK_JS_FILE_DIALOG_OAUTH_NOTICE_DETAIL_HELP_URL"))+"</div>"+"</div>"+"</div>";i.bind(i("bx-js-disk-run-oauth-modal"),"click",function(e){i.util.popup(o.authUrl,1030,700);i.PreventDefault(e);return false});i.bind(window,"hashchange",i.proxy(function(){var o=document.location.hash.match(/external-auth-(\w+)/);if(!o)return;i.DiskFileDialog.sendRequest=false;this.loadItems(e,l)},this));return}if(o.status&&o.status==="error"){o.errors=o.errors||[{}];i.Disk.showModalWithStatusAction({status:"error",message:o.errors.pop().message});i.DiskFileDialog.closeWait(l);i.DiskFileDialog.sendRequest=false;i.cleanNode(i("bx-file-dialog-content-"+l));return}i.DiskFileDialog.obItems[o.FORM_NAME]={};i.DiskFileDialog.obItemsSelected[o.FORM_NAME]={};i.DiskFileDialog.obItemsDisabled[o.FORM_NAME]={};for(var t in o.FORM_ITEMS)i.DiskFileDialog.obItems[o.FORM_NAME][t]=o.FORM_ITEMS[t];for(var t in o.FORM_ITEMS_DISABLED)i.DiskFileDialog.obItemsDisabled[o.FORM_NAME][t]=o.FORM_ITEMS_DISABLED[t];var s=i("bx-file-dialog-content-"+l);if(s)s.innerHTML=i.DiskFileDialog.getItemsHtml(l);i.DiskFileDialog.slidePath(l);i.DiskFileDialog.closeWait(l);i.DiskFileDialog.sendRequest=false;i.onCustomEvent(i.DiskFileDialog,"loadItemsDone",[l])},this),onfailure:function(e){i.DiskFileDialog.sendRequest=false}});i.DiskFileDialog.showWait(500,l);i.DiskFileDialog.sendRequest=true;return false};i.DiskFileDialog.selectColumn=function(e,l,o){if(!e)e="name";i.DiskFileDialog.obGridOrder[o].column=!e?"name":e;i.DiskFileDialog.obGridOrder[o].order=!l?"desc":l;var a=i("bx-file-dialog-content-"+o);if(a)a.innerHTML=i.DiskFileDialog.getItemsHtml(o);i.DiskFileDialog.slidePath(o);return false};i.DiskFileDialog.selectItem=function(e,l,o){if(!o)o="fd";if(i.DiskFileDialog.obItemsSelected[o][l]){i.DiskFileDialog.unSelectItem(e,l,o)}else{if(!i.DiskFileDialog.obItemsSelectMulti[o]){var a=i.findChildren(i("bx-file-dialog-content-"+o),{className:"bx-file-dialog-row-selected"},true);if(a!=null){for(var t=0,s=a.length;t<s;t++)i.DiskFileDialog.unSelectItem(a[t],a[t].getAttribute("data-id"),o)}else{for(var t in i.DiskFileDialog.obItemsSelected[o])delete i.DiskFileDialog.obItemsSelected[o][t]}}if(e!==null){i.removeClass(e,"bx-file-dialog-row-normal");i.addClass(e,"bx-file-dialog-row-selected");i.onCustomEvent(i.DiskFileDialog,"selectItem",[e,l,o])}i.DiskFileDialog.obItemsSelected[o][l]=i.DiskFileDialog.obItems[o][l].type}return false};i.DiskFileDialog.unSelectItem=function(e,l,o){if(!o)o="fd";i.removeClass(e,"bx-file-dialog-row-selected");i.addClass(e,"bx-file-dialog-row-normal");delete i.DiskFileDialog.obItemsSelected[o][l];i.onCustomEvent(i.DiskFileDialog,"unSelectItem",[e,l,o]);return false};i.DiskFileDialog._rtrimFolder=function(i){if(i.length>1){var e=i.split("/");if(e[e.length-1]=="")e.pop();e.pop();i=e.join("/");if(i.length<1)i="/"}else{i=false}return i};i.DiskFileDialog.openSpecifiedFolder=function(e,l){if(!l)l="fd";i.DiskFileDialog.obCurrentPath[l]=e;if(e!=="/"){var o=e;if(o.slice(-1)==="/"){o=o.substring(0,o.length-1)}if(i.DiskFileDialog.obFolderByPath[l][o]&&i.DiskFileDialog.obFolderByPath[l][o].provider){i.DiskFileDialog.loadItems({link:i.DiskFileDialog.obFolderByPath[l][o].link},l);return false}}var a=i.DiskFileDialog.obCurrentTab[l].link;var t=a.indexOf("index.php");if(t>=0){if(e=="/"){e=""}else{a=a.substring(0,t)}}e=a+e;e=e.split("//").join("/");i.DiskFileDialog.loadItems({link:a},l);return false};i.DiskFileDialog.openParentFolder=function(e){if(!e)e="fd";if(!!i.DiskFileDialog.obCurrentTab[e]){var l=i.DiskFileDialog._rtrimFolder(i.DiskFileDialog.obCurrentPath[e]);i.DiskFileDialog.openSpecifiedFolder(l,e);return false}return false};i.DiskFileDialog.openFolder=function(e,l,o){if(!o)o="fd";if(!i.DiskFileDialog.obItems[o][l].path){i.DiskFileDialog.obCurrentPath[o]=(i.DiskFileDialog.obCurrentPath[o]==="/"?"/":i.DiskFileDialog.obCurrentPath[o]+"/")+i.DiskFileDialog.obItems[o][l].name}else{i.DiskFileDialog.obCurrentPath[o]=i.DiskFileDialog.obItems[o][l].path}i.DiskFileDialog.obFolderByPath[o][i.DiskFileDialog.obCurrentPath[o]]=i.DiskFileDialog.obItems[o][l];i.removeClass(e,"bx-file-dialog-row-selected");i.addClass(e,"bx-file-dialog-row-normal");i.DiskFileDialog.loadItems(i.DiskFileDialog.obItems[o][l],o);return false};i.DiskFileDialog.getTabsHtml=function(e){if(!e)e="fd";var l="";var o=i.util.objectSort(i.DiskFileDialog.obType[e],"order","asc");for(var a=0,t=o.length;a<t;a++){var s="";var n=o[a];s='<div class="bx-file-dialog-tab-group">';if(n.name)s+='<div class="bx-file-dialog-tab-group-title">'+n.name+"</div>";if(n.items){for(var D=0;D<n.items.length;D++){var r=i.DiskFileDialog.obTypeItems[e][n.items[D]];var d=i.DiskFileDialog.obCurrentTab[e].id==r.id?" bx-file-dialog-tab-item-active":"";s+='<div class="bx-file-dialog-tab-item">'+'<a href="#" class="bx-file-dialog-tab-item-link'+d+'" data-id="'+r.id+'" data-type="'+r.type+'" onclick="return BX.DiskFileDialog.selectTab(this, \''+r.id+"', '"+e+"')\">"+'<span class="bx-file-dialog-tab-item-link-text" title="'+r.name+'">'+r.name+"</span>"+'<span class="bx-file-dialog-tab-item-link-arrow"></span>'+"</a>"+"</div>"}}s+="</div>";if(n.items){l+=s}}return l};i.DiskFileDialog.getItemsHtml=function(e){if(!e)e="fd";var l="";if(i.DiskFileDialog.obCurrentPath[e]=="/")l='<div class="bx-file-dialog-content-root">';l+='<div class="bx-file-dialog-header">';for(var o in i.DiskFileDialog.obGridColumn[e]){var a=i.DiskFileDialog.obGridColumn[e][o];var t=i.DiskFileDialog.obGridOrder[e].column==a.sort?true:false;l+='<span class="bx-file-dialog-column-header bx-file-dialog-column-'+a.id+'" style="'+a.style+'">'+'<a href="#sort" class="bx-file-dialog-sort-link'+(t?" bx-file-dialog-sort-active":"")+'"  onclick="return BX.DiskFileDialog.selectColumn(\''+a.sort+"', '"+(t?i.DiskFileDialog.obGridOrder[e].order=="desc"?"asc":"desc":"desc")+"', '"+e+"')\">"+a.name+'<span class="bx-file-dialog-sort-icon bx-file-dialog-sort-'+(t?i.DiskFileDialog.obGridOrder[e].order:"desc")+'"></span>'+"</a>"+"</span>"}l+="</div>";var s=i.DiskFileDialog.obCurrentPath[e].split("/");l+='<div class="bx-file-dialog-content-path">'+'<a href="#up" class="bx-file-dialog-content-path-up bx-file-dialog-icon bx-file-dialog-icon-up" onclick="return BX.DiskFileDialog.openParentFolder(\''+e+"');\"></a>"+'<span class="bx-file-dialog-content-path-items"><span class="bx-file-dialog-content-path-items-wrap" id="bx-file-dialog-content-path-items-wrap-'+e+'"> '+"<a href=\"#library\" onclick=\"return BX.DiskFileDialog.openSpecifiedFolder('/', '"+e+'\')" class="bx-file-dialog-content-path-link">'+i.DiskFileDialog.obCurrentTab[e].name+"</a>";var n="/";if(s[s.length-1]=="")s.pop();for(var o=0,D=s.length;o<D;o++){if(o==0||o==D)continue;n+=s[o]+"/";l+='<span class="bx-file-dialog-content-path-seporator bx-file-dialog-icon bx-file-dialog-icon-seporator"></span>';l+='<a href="#'+s[o]+'" onclick="return BX.DiskFileDialog.openSpecifiedFolder(\''+n+"', '"+e+'\')" class="bx-file-dialog-content-path-link '+(o==D-1?"bx-file-dialog-content-path-link-active":"")+'">'+s[o]+"</a>"}l+="</span></span>";l+="</div>";l+='<div class="bx-file-dialog-content-wrap">';var r="";var d="";var g="";var b=i.util.objectSort(i.DiskFileDialog.obItems[e],i.DiskFileDialog.obGridOrder[e].column,i.DiskFileDialog.obGridOrder[e].order);for(var o=0,D=b.length;o<D;o++){var f=b[o];var c=i.DiskFileDialog.obItemsSelected[e][f.id]?" bx-file-dialog-row-selected":" bx-file-dialog-row-normal";var k=false;var u=false;if(i.DiskFileDialog.obItemsDisabled[e][f.id])u=true;if(u&&f.type=="folder")k=true;if(!u){u=true;var F=0;for(var m in i.DiskFileDialog.obItemsSelectEnabled[e]){F++;if(m=="all"){u=false;break}else if(m=="onlyFiles"){u=false;if(f.type=="folder")k=true;break}else if(m==f.type){u=false}}if(F<=0)u=false}var p="";if(u){c=" bx-file-dialog-row-disabled";if(i.DiskFileDialog.obItemsDisabled[e]&&i.DiskFileDialog.obItemsDisabled[e][f.id]&&i.DiskFileDialog.obItemsDisabled[e][f.id]["hint"]){p=". "+i.DiskFileDialog.obItemsDisabled[e][f.id]["hint"]}}var h="";var I="";if(!u){var h="onclick=\"return BX.DiskFileDialog.selectItem(this, '"+f.id+"', '"+e+"')\"";var I="";if(f.type=="folder"){h=k?"onclick=\"return BX.DiskFileDialog.openFolder(this, '"+f.id+"', '"+e+"')\"":h;I=k?"":"ondblclick=\"return BX.DiskFileDialog.openFolder(this, '"+f.id+"', '"+e+"')\""}}g="<div "+h+" "+I+' class="bx-file-dialog-row '+c+'" data-id="'+f.id+'">';var v=true;for(var x in i.DiskFileDialog.obGridColumn[e]){var a=i.DiskFileDialog.obGridColumn[e][x];var y=f.extra&&f.extra!=""?" bx-file-dialog-extra-"+f.extra:"";if(v){g+='<span class="bx-file-dialog-column-row bx-file-dialog-column-'+a.id+""+y+'" style="'+a.style+'"  title="'+a.name+": "+i.util.htmlspecialchars(f[a.id])+p+'">';if(u){g+='<span class="bx-file-dialog-content-link bx-file-dialog-icon bx-file-dialog-icon-'+f.type+'">'+i.util.htmlspecialchars(f[a.id])+"</span>"}else{g+='<a href="#" class="bx-file-dialog-content-link bx-file-dialog-icon bx-file-dialog-icon-'+f.type+'" onclick="javascript:void(0);">'+i.util.htmlspecialchars(f[a.id])+"</a>"}g+="</span>";v=false}else{g+='<span class="bx-file-dialog-column-row bx-file-dialog-column-'+a.id+'" style="'+a.style+'" title="'+a.name+": "+i.util.htmlspecialchars(f[a.id])+'">'+i.util.htmlspecialchars(f[a.id])+"</span>"}}g+="</div>";if(f.type=="folder")r+=g;else d+=g}l+=r+d;l+="</div>";if(i.DiskFileDialog.obCurrentPath[e]=="/")l+="</div>";return l};i.DiskFileDialog.showWait=function(e,l){if(!l)l="fd";if(i.DiskFileDialog.popupWaitWindow!==null)i.DiskFileDialog.closeWait(l);if(e>0){clearTimeout(i.DiskFileDialog.timeout);i.DiskFileDialog.timeout=setTimeout(function(){i.DiskFileDialog.showWait(0,l)},e);return false}var o=i("bx-file-dialog-content-"+l);i.DiskFileDialog.popupWaitWindow=new i.PopupWindow("DiskFileDialogWait",o,{autoHide:false,lightShadow:true,zIndex:100,content:i.create("DIV",{props:{className:"bx-file-dialog-wait"}}),events:{onPopupClose:function(){this.destroy()},onPopupDestroy:function(){i.DiskFileDialog.popupWaitWindow=null}}});if(o){var a=o.offsetHeight,t=o.offsetWidth;if(a>0&&t>0){i.DiskFileDialog.popupWaitWindow.setOffset({offsetTop:-parseInt(a/2-2),offsetLeft:parseInt(t/2-15)});i.DiskFileDialog.popupWaitWindow.show()}}return false};i.DiskFileDialog.closeWait=function(e){if(!e)e="fd";if(i.DiskFileDialog.popupWaitWindow!==null)i.DiskFileDialog.popupWaitWindow.close();clearTimeout(i.DiskFileDialog.timeout);return false};i.DiskFileDialog.enableSave=function(e){if(!e)e="fd";i.DiskFileDialog.obButtonSaveDisabled[e]=false};i.DiskFileDialog.disableSave=function(e){if(!e)e="fd";i.DiskFileDialog.obButtonSaveDisabled[e]=true};i.DiskFileDialog.showNotice=function(e,l){if(!l)l="fd";var o=i("bx-file-dialog-notice-"+l);if(o==null)return false;i.show(o);var a=i.findChild(o,{className:"bx-file-dialog-notice-wrap"},true);a.innerHTML=e};i.DiskFileDialog.closeNotice=function(e){if(!e)e="fd";var l=i("bx-file-dialog-notice-"+e);if(l==null)return false;i.hide(l)};i.DiskFileDialog.slidePath=function(e){var l=i("bx-file-dialog-content-path-items-wrap-"+e);if(!l)return;var o=l.parentNode;if(l.offsetWidth>o.offsetWidth)i.style(l,"margin-left",-(l.offsetWidth-o.offsetWidth)+"px");i.unbind(l,"mousewheel",function(l){i.DiskFileDialog.slidePathScroll(l,e)});i.bind(l,"mousewheel",function(l){i.DiskFileDialog.slidePathScroll(l,e)})};i.DiskFileDialog.slidePathScroll=function(e,l){var o=i("bx-file-dialog-content-path-items-wrap-"+l);if(!o)return;if(o.offsetWidth<o.parentNode.offsetWidth)return false;var a=o.offsetWidth-o.parentNode.offsetWidth;var t=(parseInt(i.style(o,"margin-left"))-Math.ceil(30*i.getWheelData(e)/3))*-1;if(t>=0&&t<=a)i.style(o,"margin-left",-t+"px");else if(t>a)i.style(o,"margin-left",-a+"px");else if(t<0)i.style(o,"margin-left","0px");return i.PreventDefault(e)}})();
//# sourceMappingURL=file_dialog.map.js